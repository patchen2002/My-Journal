{"ast":null,"code":"import Axios from 'axios';\nimport { POST_DELETE_FAIL, POST_DELETE_REQUEST, POST_DELETE_SUCCESS, POST_FAIL, POST_ONE_FAIL, POST_ONE_REQUEST, POST_ONE_SUCCESS, POST_REQUEST, POST_SUCCESS } from '../constants/postConstants';\nexport const newPost = (senderEmail, textBody, title, shared) => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('http://localhost:3000/api/posts/', {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    });\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getPost = id => async dispatch => {\n  dispatch({\n    type: POST_ONE_REQUEST,\n    payload: {\n      id\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('http://localhost:3000/api/posts/get', {\n      id\n    });\n    dispatch({\n      type: POST_ONE_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem(\"foundPost\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: POST_ONE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getAllPosts = email => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      email\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post(\"http://localhost:3000/api/posts/user\", {\n      email\n    });\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n    console.log(\"testing\");\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const patchPost = (_id, senderEmail, textBody, title, shared) => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.patch(`http://localhost:3000/api/posts/${_id}`, {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    });\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const deletePost = _id => async dispatch => {\n  dispatch({\n    type: POST_DELETE_REQUEST,\n    payload: {}\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.delete(`http://localhost:3000/api/posts/${_id}`);\n    dispatch({\n      type: POST_DELETE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/patch/PROJECTS/Online_Journal/frontend/src/actions/postActions.js"],"names":["Axios","POST_DELETE_FAIL","POST_DELETE_REQUEST","POST_DELETE_SUCCESS","POST_FAIL","POST_ONE_FAIL","POST_ONE_REQUEST","POST_ONE_SUCCESS","POST_REQUEST","POST_SUCCESS","newPost","senderEmail","textBody","title","shared","dispatch","type","payload","data","post","error","response","message","getPost","id","localStorage","setItem","JSON","stringify","getAllPosts","email","console","log","patchPost","_id","patch","deletePost","delete"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport { POST_DELETE_FAIL, POST_DELETE_REQUEST, POST_DELETE_SUCCESS, POST_FAIL, POST_ONE_FAIL, POST_ONE_REQUEST, POST_ONE_SUCCESS, POST_REQUEST, POST_SUCCESS } from '../constants/postConstants';\r\n\r\nexport const newPost = (senderEmail, textBody, title, shared) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { senderEmail, textBody, title, shared } });\r\n    try {\r\n        const { data } = await Axios.post('http://localhost:3000/api/posts/', { senderEmail, textBody, title, shared });\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n    dispatch({ type: POST_ONE_REQUEST, payload: { id } });\r\n    try {\r\n        const { data } = await Axios.post('http://localhost:3000/api/posts/get', { id });\r\n        dispatch({ type: POST_ONE_SUCCESS, payload: data });\r\n        localStorage.setItem(\"foundPost\", JSON.stringify(data));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_ONE_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const getAllPosts = (email) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { email } });\r\n    try {\r\n        const { data } = await Axios.post(\"http://localhost:3000/api/posts/user\", { email });\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n        console.log(\"testing\")\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const patchPost = (_id, senderEmail, textBody, title, shared) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { senderEmail, textBody, title, shared } });\r\n    try {\r\n        const { data } = await Axios.patch(`http://localhost:3000/api/posts/${_id}`, { senderEmail, textBody, title, shared });\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const deletePost = (_id) => async (dispatch) => {\r\n    dispatch({ type: POST_DELETE_REQUEST, payload: {} });\r\n    try {\r\n        const { data } = await Axios.delete(`http://localhost:3000/api/posts/${_id}`);\r\n        dispatch({ type: POST_DELETE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_DELETE_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}