{"ast":null,"code":"import Axios from 'axios';\nimport { POST_FAIL, POST_REQUEST, POST_SUCCESS } from '../constants/postConstants';\nexport const newPost = (senderEmail, textBody, title, shared) => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('http://localhost:3000/api/posts/', {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    });\n    localStorage.setItem(\"foundPost\", JSON.stringify(data));\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getPost = id => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      id\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('http://localhost:3000/api/posts/get', {\n      id\n    });\n    localStorage.setItem(\"foundPost\", JSON.stringify(data));\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getAllPosts = email => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      email\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post(\"http://localhost:3000/api/posts/user\", {\n      email\n    });\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const patchPost = (_id, senderEmail, textBody, title, shared) => async dispatch => {\n  dispatch({\n    type: POST_REQUEST,\n    payload: {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.patch(`http://localhost:3000/api/posts/${_id}`, {\n      senderEmail,\n      textBody,\n      title,\n      shared\n    });\n    localStorage.setItem(\"foundPost\", JSON.stringify(data));\n    dispatch({\n      type: POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/patch/PROJECTS/Online_Journal/frontend/src/actions/postActions.js"],"names":["Axios","POST_FAIL","POST_REQUEST","POST_SUCCESS","newPost","senderEmail","textBody","title","shared","dispatch","type","payload","data","post","localStorage","setItem","JSON","stringify","error","response","message","getPost","id","getAllPosts","email","patchPost","_id","patch"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport { POST_FAIL, POST_REQUEST, POST_SUCCESS } from '../constants/postConstants';\r\n\r\nexport const newPost = (senderEmail, textBody, title, shared) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { senderEmail, textBody, title, shared } });\r\n    try {\r\n        const { data } = await Axios.post('http://localhost:3000/api/posts/', { senderEmail, textBody, title, shared });\r\n        localStorage.setItem(\"foundPost\", JSON.stringify(data));\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { id } });\r\n    try {\r\n        const { data } = await Axios.post('http://localhost:3000/api/posts/get', { id });\r\n        localStorage.setItem(\"foundPost\", JSON.stringify(data));\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const getAllPosts = (email) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { email } });\r\n    try {\r\n        const { data } = await Axios.post(\"http://localhost:3000/api/posts/user\", { email });\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};\r\n\r\nexport const patchPost = (_id, senderEmail, textBody, title, shared) => async (dispatch) => {\r\n    dispatch({ type: POST_REQUEST, payload: { senderEmail, textBody, title, shared } });\r\n    try {\r\n        const { data } = await Axios.patch(`http://localhost:3000/api/posts/${_id}`, { senderEmail, textBody, title, shared });\r\n        localStorage.setItem(\"foundPost\", JSON.stringify(data));\r\n        dispatch({ type: POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}